<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="GNU source-highlight 
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite">
<title>Makefile</title>
</head>
<body style="background-color:white">
<pre><span style="color:#009900">CXXASMFLAGS	=</span> -m<span style="color:#993399">64</span> -mllvm --x<span style="color:#993399">86</span>-asm-syntax<span style="color:#990000">=</span>intel -S -fomit-frame-pointer
<span style="color:#990000">main:</span>
	@echo You should <b><span style="color:#0000FF">read</span></b> the readme.txt file<span style="color:#990000">!</span>

<span style="color:#990000">compile:</span>
	gcc -o test_abs_c test_abs_c.c
	g<span style="color:#990000">++</span> -o test_abs test_abs.cpp
	g<span style="color:#990000">++</span> -o test_fib test_fib.cpp
	g<span style="color:#990000">++</span> -o test_max test_max.cpp
	g<span style="color:#990000">++</span> -o test_string_compare test_string_compare.cpp

<span style="color:#990000">asm:</span>
	clang   <span style="color:#009900">$(CXXASMFLAGS)</span> test_abs_c.c -o test_abs_c.s
	clang<span style="color:#990000">++</span> -m<span style="color:#993399">64</span> -S -fomit-frame-pointer test_abs.cpp -o test_abs-non-intel.s
	clang<span style="color:#990000">++</span> <span style="color:#009900">$(CXXASMFLAGS)</span> test_abs.cpp -o test_abs.s
	clang<span style="color:#990000">++</span> <span style="color:#009900">$(CXXASMFLAGS)</span> test_abs_int.cpp -o test_abs_int.s
	clang<span style="color:#990000">++</span> <span style="color:#009900">$(CXXASMFLAGS)</span> -O<span style="color:#993399">2</span> test_fib.cpp -o test_fib.s
	clang<span style="color:#990000">++</span> <span style="color:#009900">$(CXXASMFLAGS)</span> -O<span style="color:#993399">2</span> test_string_compare.cpp -o test_string_compare.s
	clang<span style="color:#990000">++</span> <span style="color:#009900">$(CXXASMFLAGS)</span> test_max.cpp -o test_max.s
	clang<span style="color:#990000">++</span> <span style="color:#009900">$(CXXASMFLAGS)</span> -O<span style="color:#993399">2</span> test_max.cpp -o test_max-O2.s
	grep -v extern test_max.cpp <span style="color:#990000">&gt;</span> foo.cpp
	clang<span style="color:#990000">++</span> <span style="color:#009900">$(CXXASMFLAGS)</span> foo.cpp -o test_max-noextern.s
	/bin/rm -rf foo.cpp

<span style="color:#990000">clean:</span>
	/bin/rm -f test_abs_c test_abs_c.exe test_fib test_fib.exe test_max <span style="color:#990000">\</span>
		test_max.exe test_string_compare test_string_compare.exe <span style="color:#990000">\</span>
		test_abs test_abs.exe

<span style="color:#990000">asmclean:</span>
	/bin/rm -f <span style="color:#990000">*</span>.s

<span style="color:#990000">source-highlight:</span>
	source-highlight -d <span style="color:#990000">*</span>.s <span style="color:#990000">*</span>.c <span style="color:#990000">*</span>.cpp
</pre>
</body>
</html>
